{"ast":null,"code":"var _jsxFileName = \"E:\\\\htmlwirkhive\\\\Prcoll\\\\e_commerce\\\\client\\\\src\\\\components\\\\Update.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from 'react';\nimport { useNavigate, useParams, useLocation, NavLink } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Update = () => {\n  _s();\n  const history = useNavigate();\n  const location = useLocation();\n  const {\n    userid\n  } = useParams();\n  console.log(\"userid is \" + userid);\n  const [userdata, setdata] = useState({});\n  const [advt, setadvt] = useState({\n    name: \"\",\n    email: \"\"\n  });\n  let name, value;\n  const handleinput = e => {\n    name = e.target.name;\n    value = e.target.value;\n    setadvt({\n      ...advt,\n      [name]: value\n    });\n  };\n  const callinfo = async () => {\n    try {\n      console.log('welcome');\n      const res = await fetch(`/${userid}/info`, {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\"\n      });\n      const data = await res.json();\n      if (data == \"-2\") {\n        window.alert('You must be logged in first');\n        history('/login');\n      } else {\n        console.log(data);\n        setdata(data);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  const username = userdata.username;\n  const name1 = userdata.name;\n  const email = userdata.email;\n  const password = userdata.password;\n  const send = async e => {\n    e.preventDefault();\n    const {\n      title,\n      description,\n      budget,\n      link\n    } = advt;\n    try {\n      if (title === \"\" || description === \"\" || budget == \" \" || link === \"\") {\n        window.alert(\"Data is empty\");\n      } else {\n        console.log(\"advt is \" + advt);\n        const res = await fetch(`/update/${userid}`, {\n          method: \"PUT\",\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            name: advt.name,\n            email: advt.email,\n            check: \"OK\"\n          })\n        });\n        const data = await res.json();\n        console.log('req is');\n        console.log(data);\n        if (data == \"-8\") {\n          window.alert('Invalid data');\n        } else {\n          window.alert('Updated successfully successfully!');\n          history(`/user/${userdata._id}`);\n        }\n        console.log(data);\n        window.location.reload();\n        setadvt({\n          title: \"\",\n          description: \"\",\n          budget: 0,\n          link: \"\"\n        });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  useEffect(() => {\n    callinfo();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: '600px',\n          width: '90%',\n          border: '5px solid black',\n          marginLeft: 'auto',\n          marginRight: 'auto',\n          marginTop: '50px',\n          backgroundColor: '#F9F4D1',\n          padding: '20px',\n          borderRadius: '10px',\n          boxShadow: 'rgba(0, 0, 0, 0.35) 0px 5px 15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: \"User Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          method: \"POST\",\n          className: \"validated-form\",\n          noValidate: true,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"username\",\n              className: \"form-label\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"username\",\n              className: \"form-control\",\n              name: \"name\",\n              value: advt.name,\n              onChange: handleinput,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"username\",\n              className: \"form-label\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"username\",\n              className: \"form-control\",\n              name: \"email\",\n              value: advt.email,\n              onChange: handleinput,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group form-button\",\n            style: {\n              textAlign: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              name: \"Update Info\",\n              className: \"btn btn-dark\",\n              value: \"Update Information\",\n              onClick: send\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 3\n  }, this);\n};\n_s(Update, \"z9sqY2J7KewWB2pBr9j9GYk71Jk=\", false, function () {\n  return [useNavigate, useLocation, useParams];\n});\n_c = Update;\nexport default Update;\nvar _c;\n$RefreshReg$(_c, \"Update\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useNavigate","useParams","useLocation","NavLink","Update","history","location","userid","console","log","userdata","setdata","advt","setadvt","name","email","value","handleinput","e","target","callinfo","res","fetch","method","headers","Accept","credentials","data","json","window","alert","err","username","name1","password","send","preventDefault","title","description","budget","link","body","JSON","stringify","check","_id","reload","maxWidth","width","border","marginLeft","marginRight","marginTop","backgroundColor","padding","borderRadius","boxShadow","textAlign"],"sources":["E:/htmlwirkhive/Prcoll/e_commerce/client/src/components/Update.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport {useNavigate, useParams, useLocation, NavLink} from 'react-router-dom'\r\n\r\nconst Update = () => {\r\n\r\n  const history= useNavigate();\r\n  const location = useLocation();\r\n  const {userid}= useParams();\r\n  console.log(\"userid is \"+ userid);\r\n  const [userdata, setdata]= useState({});\r\n  const [advt, setadvt] = useState({name:\"\", email:\"\"});\r\n\r\n    let name, value;\r\n    const handleinput= (e) =>{\r\n        name= e.target.name;\r\n        value= e.target.value;\r\n        setadvt({...advt, [name]:value});\r\n    }\r\n\r\n  const callinfo = async()=>{\r\n    try{\r\n        console.log('welcome');\r\n        const res= await fetch(`/${userid}/info`,{\r\n            method: \"GET\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            credentials: \"include\"\r\n        });\r\n        const data= await res.json();\r\n        if(data==\"-2\")\r\n        {\r\n            window.alert('You must be logged in first');\r\n            history('/login');\r\n        }\r\n        else\r\n        {\r\n          console.log(data);\r\n        setdata(data);\r\n        }\r\n    }\r\n    catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\nconst username= userdata.username;\r\nconst name1= userdata.name;\r\nconst email= userdata.email;\r\nconst password= userdata.password;\r\n\r\nconst send =async(e)=>{\r\n  e.preventDefault();\r\n  const {title, description, budget, link}= advt;\r\n  try{\r\n    if(title===\"\"||description===\"\"||budget==\" \"||link===\"\")\r\n        {\r\n            window.alert(\"Data is empty\");\r\n        }\r\n        else{\r\n    console.log(\"advt is \"+ advt);\r\n    const res= await fetch(`/update/${userid}`,{\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\":\"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n          name:advt.name,\r\n          email:advt.email,\r\n          check:\"OK\"\r\n        })\r\n    });\r\n    const data= await res.json();\r\n    console.log('req is');\r\n    console.log(data);\r\n    if(data==\"-8\")\r\n    {\r\n        window.alert('Invalid data');\r\n    }\r\n    else\r\n    {\r\n        window.alert('Updated successfully successfully!');\r\n        history(`/user/${userdata._id}`);\r\n    }\r\n    console.log(data);\r\n    window.location.reload();\r\n    setadvt({title:\"\",description:\"\",budget: 0, link:\"\",});\r\n  }\r\n}\r\ncatch(err){\r\n    console.log(err);\r\n}\r\n}\r\n\r\n\r\nuseEffect(() => {\r\n  callinfo();\r\n},[]);\r\n\r\n  return (\r\n  <div>\r\n  <div className='container'>\r\n    <div style={{maxWidth: '600px', width: '90%', border: '5px solid black', marginLeft: 'auto', marginRight: 'auto', marginTop: '50px', backgroundColor: '#F9F4D1', padding: '20px', borderRadius: '10px', boxShadow: 'rgba(0, 0, 0, 0.35) 0px 5px 15px'}}>\r\n    <h1 style={{textAlign: 'center'}}>User Information</h1>\r\n\r\n    <form method=\"POST\" className=\"validated-form\" noValidate>\r\n\r\n    <div class=\"mb-3\">\r\n    <label for=\"username\" className=\"form-label\">Name</label>\r\n    <input type=\"text\" id=\"username\" className=\"form-control\" name=\"name\" value={advt.name} onChange={handleinput} required/>\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n    <label for=\"username\" className=\"form-label\">Email</label>\r\n    <input type=\"text\" id=\"username\" className=\"form-control\" name=\"email\" value={advt.email} onChange={handleinput} required/>\r\n    </div>\r\n\r\n    <div className=\"form-group form-button\" style={{textAlign: 'center'}}>\r\n    <input type=\"submit\" name=\"Update Info\" className=\"btn btn-dark\" value=\"Update Information\" onClick={send}/>\r\n    </div>\r\n\r\n    </form>\r\n    </div>\r\n    </div>\r\n  </div>)\r\n};\r\n\r\nexport default Update;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}